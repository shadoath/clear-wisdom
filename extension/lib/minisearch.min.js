/*! Minimal MiniSearch-compatible client-side full-text search (no deps). */
(function(g){function n(e){return(e||"").toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function p(e){return n(e).split(/[^a-z0-9]+/).filter(Boolean)}function q(e,t){var r={};for(var i=0;i<t.length;i++){var o=t[i],s=e[o];if(s==null)continue;var a=p(s);for(var u=0;u<a.length;u++){var c=a[u];r[c]=(r[c]||0)+1}}return r}function v(e,t){this._docs=new Map;this._index=new Map;this._docCount=0;this._fieldWeights=(t&&t.fieldWeights)||{};this._fields=(t&&t.fields)||[];this._storeFields=(t&&t.storeFields)||[];this._idField=(t&&t.idField)||"id"}v.prototype.addAll=function(e){for(var t=0;t<e.length;t++)this.add(e[t])};v.prototype.add=function(e){var t=e[this._idField];if(t==null)return;var r=String(t);if(this._docs.has(r))return;this._docCount++;var i={};for(var o=0;o<this._storeFields.length;o++){var s=this._storeFields[o];i[s]=e[s]}this._docs.set(r,{id:r,stored:i});var a=q(e,this._fields);for(var u in a){var c=a[u];var f=this._index.get(u);if(!f){f=new Map;this._index.set(u,f)}f.set(r,{tf:c})}};v.prototype.search=function(e,t){t=t||{};var r=p(e);if(r.length===0)return[];var i=new Map;for(var o=0;o<r.length;o++){var s=r[o];var a=this._index.get(s);if(!a)continue;var u=a.size||0;var c=u?Math.log(1+this._docCount/(1+u)):0;var f=a.entries();for(var l=f.next();!l.done;l=f.next()){var d=l.value[0],m=l.value[1];var h=(m.tf||1)*c;i.set(d,(i.get(d)||0)+h)}}var y=[];var w=i.entries();for(var b=w.next();!b.done;b=w.next()){var k=b.value[0],x=b.value[1];var S=this._docs.get(k);if(!S)continue;y.push({id:k,score:x,storedFields:S.stored})}y.sort(function(A,B){return B.score-A.score});var C=t.limit||50;return y.slice(0,C)};g.MiniSearch=v})(typeof window!=="undefined"?window:this);
