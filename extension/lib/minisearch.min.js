/*! Minimal MiniSearch-compatible client-side full-text search (no deps). */
(function(g){function n(e){return(e||"").toString().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function p(e){return n(e).split(/[^a-z0-9]+/).filter(Boolean)}function q(e,t){var r={};for(var i=0;i<t.length;i++){var o=t[i],s=e[o];if(s==null)continue;var a=p(s);for(var u=0;u<a.length;u++){var c=a[u];r[c]=(r[c]||0)+1}}return r}function v(e,t){var r=t&&typeof t==="object"?t:e&&typeof e==="object"?e:{};this._docs=new Map;this._index=new Map;this._docCount=0;this._fields=r.fields||[];this._storeFields=r.storeFields||[];this._idField=r.idField||"id"}v.prototype.addAll=function(e){for(var t=0;t<e.length;t++)this.add(e[t])};v.prototype.add=function(e){var t=e[this._idField];if(t==null)return;var r=String(t);if(this._docs.has(r))return;this._docCount++;var i={};for(var o=0;o<this._storeFields.length;o++){var s=this._storeFields[o];i[s]=e[s]}this._docs.set(r,{id:r,stored:i});var a=q(e,this._fields);for(var u in a){var c=a[u];var f=this._index.get(u);if(!f){f=new Map;this._index.set(u,f)}f.set(r,{tf:c})}};v.prototype.search=function(e,t){t=t||{};var r=p(e);if(r.length===0)return[];var i=new Map;for(var o=0;o<r.length;o++){var s=r[o];var a=[];a.push(s);if(!this._index.has(s)&&s.length>=4){for(var u=this._index.keys(),c=u.next();!c.done;c=u.next()){var f=c.value;if(f&&f.startsWith(s))a.push(f)}}for(var l=0;l<a.length;l++){var d=a[l];var m=this._index.get(d);if(!m)continue;var h=m.size||0;var y=h?Math.log(1+this._docCount/(1+h)):0;var w=m.entries();for(var b=w.next();!b.done;b=w.next()){var k=b.value[0],x=b.value[1];var S=(x.tf||1)*y*(d===s?1:0.85);i.set(k,(i.get(k)||0)+S)}}}var C=[];var A=i.entries();for(var B=A.next();!B.done;B=A.next()){var D=B.value[0],E=B.value[1];var F=this._docs.get(D);if(!F)continue;C.push({id:D,score:E,storedFields:F.stored})}C.sort(function(G,H){return H.score-G.score});var I=t.limit||50;return C.slice(0,I)};g.MiniSearch=v})(typeof window!=="undefined"?window:(typeof globalThis!=="undefined"?globalThis:this));
